<html>

<head>
    <title>Election Events</title>
    <link rel="stylesheet" href="../css/stylesheet.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.22/css/jquery.dataTables.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js"></script>
</head>

<body>
    Election Events
    <div container class="container">
        <table id='outputTable' class="display">
            <thead>
                <tr>
                    <th>NAME</th>
                    <th>START DATE</th>
                    <th>END DATE</th>
                </tr>
            </thead>
            <tbody id='tableBody'>
            </tbody>
        </table>
    </div>
    <button onclick="window.location.href='ElectionEventform.html';">
        <span>Add New</span></button>
</body>

<!-- This script block has the Javas("#electionId").val()cript logic -->
<script type="text/javascript" language="javascript">
    //Document.ready waits for the page to finish loading then executes the code block
    $(document).ready(function () {

        $('#outputTable').DataTable();
        //use the getJson function of jQuery to read from a REST API endpoint
        $.getJSON('http://localhost:3000/api/org.univote.Election', function (data) {
            console.log(data);
            for (var i = 0; i < data.length; i++) {
                $('#outputTable').dataTable().fnAddData([
                    data[i].electionName,
                    data[i].startDate,
                    data[i].endDate
                ]);
            };
        });

    });
</script>
</html>