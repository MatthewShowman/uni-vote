<html>
<head>
<title>Election Events</title>
<link rel="stylesheet" href="../css/stylesheet.css">
<link rel="stylesheet" href="https://cdn.datatables.net/1.10.22/css/jquery.dataTables.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js"></script> 
</head>
<body>
Election Events
<!-- This DIV will be filled with the JSON data -->
<div container class="container">
<table id='outputTable' class="display">
    <thead>
        <tr>
            <th>ElectionId</th>
        </tr>
    </thead>
    <tbody id ='tableBody'>
    </tbody>
</table>
</div>
<button onclick="window.location.href='file:///home/linuxdev/dev/uni-vote/html/ElectionEventform.html';">
    <span>Add New</span></button>
</body>

<!-- This script block has the Javascript logic -->
<script type = "text/javascript" language = "javascript">
//Document.ready waits for the page to finish loading then executes the code block
$(document).ready(function () {

    $('#outputTable').DataTable(); 
    //use the getJson function of jQuery to read from a REST API endpoint
    //In this case, I am using the "get" endpoint for my Tickets example
    $.getJSON('http://localhost:3000/api/org.network.voter.Election', function (data) {

        // begin accessing JSON data here
            //Dump all of the data coming back from the REST API to the log for debugging
            console.log(data);
            //Search for the ticketID field and ticketOwner field and set the HTML value 
            //to the JSON data use the # symbol before any named ID to get that element
            for(var i = 0; i < data.length; i++){
                //$('#outputTable').append("<tr><td>", data[i].electionId, "</td></tr>");
                $('#outputTable').dataTable().fnAddData([
                    data[i].electionId
                ]); 
            };
                     
    });
    
});
</script>

</html> 
